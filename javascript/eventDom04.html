<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문서객체모델(DOM)</title>
    <style>
        
    </style>
    <script>
        window.onload = function() {
            let chulsu = document.getElementById("buttonA");
            let gildong = document.getElementById("buttonB");
            let chulsuCount = 0;
            let gildongCount = 0;
            let sum = 0;

            document.getElementById("student").innerHTML = 30-sum;
            chulsu.onclick = function() {
                chulsuCount++;
                sum++;
                document.getElementById("countA").innerHTML = chulsuCount;
                document.getElementById("student").innerHTML = 30-sum;
                if (sum >= 30) {
                    alert("투표 종료");
                    document.getElementById("student").innerHTML = "없음";
                    if(chulsuCount>gildongCount){
                        alert("철수가 이겼습니다.");
                    } else if(chulsuCount<gildongCount){
                        alert("길동이 이겼습니다.");
                    } else{
                        alert("동점입니다.");
                    }
                    } 
                }

            gildong.onclick = function() {
                gildongCount++;
                sum++;
                document.getElementById("countB").innerHTML = gildongCount;
                document.getElementById("student").innerHTML = 30-sum;
                // chulsu.onclick();            //완전 부정행위!
                if (sum >= 30) {
                    alert("투표 종료");
                    document.getElementById("student").innerHTML = "없음";
                    if(chulsuCount>gildongCount){
                        alert("철수가 이겼습니다.");
                    } else if(chulsuCount<gildongCount){
                        alert("길동이 이겼습니다.");
                    } else{
                        alert("동점입니다.");
                    }
                }               
                }    
            }               
    </script>
</head>
<body>
    <button id="buttonA">김철수 투표</button>
    <button id="buttonB">홍길동 투표</button>
    <h1>김철수 - <span id="countA">0</span></h1>
    <h1>홍길동 - <span id="countB">0</span></h1>
    <h2>전체학생 수 : 30 | 남은 학생 수 : <span id="student"></span></h2>
</body>
</html>